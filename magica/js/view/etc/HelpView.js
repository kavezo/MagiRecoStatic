define("underscore backbone backboneCommon ajaxControl command text!template/etc/Help.html text!js/etc/help.json".split(" "),function(g,h,a,m,f,k,l){var e;return h.View.extend({events:function(){var b={};b[a.cgti+" #menuPanel .btn"]=this.switchShow;b[a.cgti+" .colLow"]=this.openText;b[a.cgti+" #faqLinkBtn"]=this.helpLink;b[a.cgti+" #idCopyBtn"]=this.idCopy;return b},initialize:function(a){this.template=g.template(k);this.createDom()},render:function(){e=JSON.parse(l);this.$el.html(this.template({model:e.help,
gameUser:a.storage.gameUser.toJSON()}));this.currentType=e.help?e.help[0].type:"";return this},createDom:function(){a.content.append(this.render().el);for(var b=a.doc.getElementById("menuPanel").getElementsByTagName("li"),c=0,d=b.length;c<d;c++)b[c].dataset.type===this.currentType&&a.addClass(b[c],"current"),a.scrollSet("scrollWrap",b[c].dataset.type+"Wrap");a.scrollSet("menuScroll","scrollInner");a.setGlobalView();a.ready.hide()},switchShow:function(b){b.preventDefault();if(!a.isScrolled()){var c=
b.currentTarget.dataset.type;if(this.currentType!==b.currentTarget.dataset.type){var d=a.doc.getElementById("helpWrap");a.removeClass(d,this.currentType);a.addClass(d,c);a.addClass(d.getElementsByClassName(this.currentType+"Wrap")[0],"none");a.removeClass(d.getElementsByClassName(c+"Wrap")[0],"none");d=a.doc.getElementById("menuPanel").getElementsByClassName("current")[0];a.removeClass(d,"current");a.addClass(b.currentTarget,"current");this.currentType=c;a.scrollRefresh("scrollWrap",b.currentTarget.dataset.type+
"Wrap",!0)}}},openText:function(b){b.preventDefault();a.isScrolled()||(b.currentTarget.nextElementSibling.classList.toggle("open"),b.currentTarget.getElementsByClassName("panArrow")[0].classList.toggle("on"),a.scrollRefresh())},helpLink:function(b){b.preventDefault();a.isScrolled()||f.browserOpen("https://faq.magireco.com/?site_domain\x3den")},idCopy:function(b){b.preventDefault();a.isScrolled()||(b=a.storage.gameUser.get("inviteCode"),f.copyClipboard(b),new a.PopupClass({title:"Player ID",content:"Copied to your clipboard.",
closeBtnText:"OK"}))}})});